/* Outline-on-hover (and focus-visible) */
@mixin hover-outline(
  $border-width: 2px,
  $border-color: $color-accent-alt,
  $radius: 6px,
  $scale: .9,
  $duration: .2s
) {
  position: relative;

  &::after {
    content: "";
    position: absolute;
    inset: 0;
    border: $border-width solid $border-color;
    border-radius: $radius;
    opacity: 0;
    transform: scale($scale);
    transition:
      opacity $duration ease,
      transform $duration ease,
      border-color $duration ease;
    pointer-events: none;
  }

  &:hover::after,
  &:focus-visible::after {
    opacity: 1;
    transform: scale(1);
  }

  @media (prefers-reduced-motion: reduce) {
    &::after { transition: none; transform: none; }
  }
}

@mixin button(
  $py: .5rem,
  $px: 1rem,
  $radius: 10px,
  $border-w: 2px,
  $border-color: $color-border,
  $text: $color-text,
  $outline-w: 2px,
  $outline-color: rgba($color-accent-alt, .85)
) {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: $py $px;
  border: $border-w solid $border-color;
  border-radius: $radius;
  background: rgba($color-bg, 0.55);
  color: $text;
  cursor: pointer;
  text-decoration: none;
  box-shadow: none;

  // your existing mixin from earlier
  @include hover-outline($outline-w, $outline-color, $radius);
}

.btn { @include button(); 
  &--light-outline {
    // baseline outline style (already there in the theme)
    border-color: $color-border !important; 

    // extend with your custom hover
    &:hover,
    &:focus {
      border-color: rgba($color-accent-alt, .85) !important; // gold
    }
  }
}
.btn--subtle {                             // softer outline variant
  @include button($outline-w: 1.25px, $outline-color: rgba($color-accent-alt,.85));
}
.btn--copy { @include button($py: 0.25rem, $px: 0.25rem, $radius: 12px); } 

/* (optional) utility: strip link underlines the MM way */
@mixin link-no-underline {
  text-decoration: none !important;
  box-shadow: none;
  background-image: none;
  border-bottom: 0;
}

// DEBUG

.copy-button{
  position:absolute; top:.5rem; right:.5rem; z-index:2;
  display:inline-flex; align-items:center; gap:.4rem;
  padding: 1rem 1rem; border-radius:8px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(0,0,0,.35); color:#eee; cursor:pointer;
  backdrop-filter:blur(6px);
}
.copy-button i{ font-size:.9rem; line-height:0; }
.copy-button::after{
  content:""; position:absolute; inset:0; border-radius:8px;
  border:1.5px solid rgba(245,183,89,.45); opacity:0; transform:scale(.95);
  transition:opacity .15s ease, transform .15s ease, border-color .15s ease;
  pointer-events:auto;
}
.copy-button:hover::after,
.copy-button:focus-visible::after{ opacity:1; transform:scale(1); }

.btn--copy.is-copied { border-color: $color-accent-alt; }
.btn--copy.is-copied::after {
  border-color: $color-accent-alt;
  opacity: 1;
  transform: scale(1);
}


