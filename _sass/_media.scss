@media (prefers-reduced-motion: reduce){ .viz-svg{ transition:none; } }

@media print{
  .devLine,.dbaLine,.etlLine,.analysisLine{ stroke-width:3 !important; }
  svg{ filter:none !important; } /* in case you use background effects */
}

.roadmap-svg {
  display: block;
  width: 100%;
  height: auto;
  aspect-ratio: 1200/420;   /* keeps shape */
  position: relative;
  z-index: 1;
}

/* Shared chart styling */
.chart-block {
  max-width: 1040px;
  margin: 0 auto 2rem auto;  /* center + bottom margin */
  text-align: center;
}

.chart-block img,
.chart-block svg {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 0 auto;
}

/* For interactive charts with controls */
.chart-wrap {
  @extend .chart-block;
  display: grid;
  grid-template-rows: auto auto; /* chart + buttons */
  row-gap: .5rem;
}

/* For static images only */
.chart-container {
  @extend .chart-block;
}

/* Your <object> — keep your working sizing (height:auto is fine for you) */
.viz-svg{
  display: inline-block; /* you said this is required in your setup */
  width: 100%;
  height: auto;
  border: 0;
}

.chart-wrap {                 /* anchor for absolute positioning */
  position: relative;
  display: inline-block;      /* shrink-wrap to chart width */
}

.chart-img { display:block; max-width:100%; height:auto; }

.viz-slider {
  position: absolute;
  right: 12px;
  bottom: 12px;
  z-index: 5;
  display: flex;
  align-items: center;
  gap: .5rem;
  padding: .5rem .75rem;
  border: 1px solid rgba(255,255,255,.15);
  border-radius: .75rem;
  background: rgba(20,20,20,.75);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  box-shadow: 0 6px 16px rgba(0,0,0,.25);
}

/* compact buttons */
.viz-slider .btn.small {
  font: 600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  padding: .25rem .5rem;
  border-radius: .5rem;
  border: 1px solid rgba(255,255,255,.15);
  background: rgba(255,255,255,.06);
  color: #e6e6e6;
  cursor: pointer;
}

.viz-slider .range {
  display:flex; align-items:center; gap:.5rem; color:#cfcfcf; font-size:12px;
}

/* Range input handle — cross-browser */
.viz-slider input[type="range"]{
  -webkit-appearance:none; appearance:none;
  height: 4px; width: 160px; border-radius: 999px;
  background: linear-gradient(90deg,#6b7280,#d1d5db);
  outline:none; cursor:pointer;
}
.viz-slider input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none;
  width:16px; height:16px; border-radius:50%;
  background:#fff; border:2px solid #111;
  box-shadow:0 2px 5px rgba(0,0,0,.35);
}
.viz-slider input[type="range"]::-moz-range-thumb{
  width:16px; height:16px; border-radius:50%;
  background:#fff; border:2px solid #111;
  box-shadow:0 2px 5px rgba(0,0,0,.35);
}

/* Controls now live BELOW the chart, aligned to the right */
.chart-controls{
  justify-self: center;     /* right-align in the second row */
  display: flex;
  gap: 6px;
}

/* Button styling (keep yours if you already have it) */
.chart-controls button{
  padding: .25rem .5rem; line-height: 1;
  border: 1px solid rgba(255,255,255,.25);
  background: rgba(0,0,0,.35); color: inherit;
  border-radius: .4rem; cursor: pointer;
}
.chart-controls button:hover{ background: rgba(0,0,0,.5); }

.bike-icon {
  animation: bob 2s infinite ease-in-out;
}
@keyframes bob {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}