@media (prefers-reduced-motion: reduce){ .viz-svg{ transition:none; } }

@media print{
  .devLine,.dbaLine,.etlLine,.analysisLine{ stroke-width:3 !important; }
  svg{ filter:none !important; } /* in case you use background effects */
}

.roadmap-svg {
  display: block;
  width: 100%;
  height: auto;
  aspect-ratio: 1200/420;   /* keeps shape */
  position: relative;
  z-index: 1;
}

/* Shared chart styling */
.chart-block {
  max-width: 1040px;
  margin: 0 auto 2rem auto;  /* center + bottom margin */
  text-align: center;
}

.chart-block img,
.chart-block svg {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 0 auto;
}

/* For interactive charts with controls */
.chart-wrap {
  @extend .chart-block;
  position: relative;
  display: grid;
  grid-template-rows: auto auto; /* chart + buttons */
  row-gap: .5rem;
}

/* For static images only */
.chart-container {
  @extend .chart-block;
}

.chart-img { display:block; max-width:100%; height:auto; }

/* Controls now live BELOW the chart, aligned to the right */
.chart-controls{
  justify-self: center;
  display: flex;
  gap: 6px;
}

.chart-controls button{
  padding: .25rem .5rem; line-height: 1;
  border: 1px solid rgba(255,255,255,.25);
  background: rgba(0,0,0,.35); color: inherit;
  border-radius: .4rem; cursor: pointer;
}
.chart-controls button:hover{ background: rgba(0,0,0,.5); }

.viz-svg{
  display: inline-block;
  width: 100%;
  height: auto;
  border: 0;
}

.viz-wrap {
  display: inline-block;
  position: relative;
}

.viz-wrap .viz-svg { filter: var(--viz-filter, none); }

.viz-btn {
  font-size: smaller;
  padding: 0.25rem;
}



/* Only affects controls inside this chart block */
.viz-wrap .chart-controls { display:flex; align-items:center; gap:.25rem; flex-wrap:wrap; }

/* Compact buttons */
.viz-wrap .viz-btn{
  font:500 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  padding:.25rem .5rem;
  border-radius:.5rem;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.06);
  color:#e6e6e6;
  cursor:pointer;
}
.viz-wrap .viz-btn:is(:hover,:focus){ border-color:rgba(255,255,255,.25); }
.viz-wrap .viz-btn.is-active{
  border-color:rgba(255,255,255,.35);
  background:rgba(255,255,255,.12);
}

.viz-slider{
  position: relative;
  display: flex;
  align-items: center;
  gap: .5rem;
  padding: .5rem .75rem;
  border: 1px solid rgba(255,255,255,.15);
  border-radius: .75rem;
  accent-color: #fff;
  background: rgba(20,20,20,.75);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  box-shadow: 0 6px 16px rgba(0,0,0,.25);
}

/* Slider label + size */
.viz-wrap .viz-slider{
  display:inline-flex; 
  align-items:center; 
  gap:.4rem;
  font:600 11px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;
}

.viz-wrap .viz-slider input[type="range"]{ 
  -webkit-appearance:none; appearance:none;
  height: 4px; width: 160px; border-radius: 999px;
  background: linear-gradient(90deg,#6b7280,#d1d5db);
  outline:none; cursor:pointer;
  width:120px; 
  margin:0;
  background: linear-gradient(90deg,#6b7280,#d1d5db);
}

.viz-slider input[type="range"]::-moz-range-thumb{
  height:4px; width:160px; border-radius:50%;
  background:#fff; border:2px solid #111;
  box-shadow:0 2px 5px rgba(0,0,0,.35);
}

.viz-wrap #darkRange::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 14px;                  /* thumb size */
  height: 14px;
  border-radius: 50%;           /* 50% = circle; 6px = rounded square; 0 = square */
  background: #0b005e;
  border: 1px solid rgba(255,255,255,.35);
}

.bike-icon{
  animation: bob 2s infinite ease-in-out;
}
@keyframes bob{
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@media (max-width: 768px) {
  .manifesto-intro {
    display: inline-block;
    position: relative;
    font-size: 1.25em;
    margin-top: 2px !important;
    padding-top: 2px !important;
}
}

@media (max-width: 768px) {
  .h-card {
    display: none !important;
  }
}

@media (max-width: 768px) {
  .layout--splash a {
    display: none !important;   /* hides the link text/icon completely */
  }
}

/*** Debug ***/

.viz-slider .range{
  display:flex; align-items:center; gap:.5rem; color:#cfcfcf; font-size:12px;
}