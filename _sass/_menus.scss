/* 1) Kill Minimal Mistakes' default animated underline */
.greedy-nav .visible-links > li > a::before,
.masthead__menu-item > a::before {
  content: none !important;           /* remove teal underline */
}

.greedy-nav .visible-links > li > a,
.masthead__menu-item > a {
  padding: .25rem .6rem;
  @include hover-outline(2px, $color-accent-alt, 6px); // match your current look
}

.layout--home .greedy-nav .visible-links a[href="/"] {
  pointer-events: none;
  opacity: .6;
}

/* Dim/disable the nav item when you’re already on that page */
.layout--home .greedy-nav .visible-links a[href="/"] { pointer-events: none; opacity: .6; }
.page--about .greedy-nav .visible-links a[href="/about/"] { pointer-events: none; opacity: .6; }
.page--blog  .greedy-nav .visible-links a[href="/blog/"]  { pointer-events: none; opacity: .6; }

html:has(#skills:target)     .greedy-nav a[href="/about/#skills"] { pointer-events: none; opacity: .6; }
html:has(#experience:target) .greedy-nav a[href="/about/#experience"] { pointer-events: none; opacity: .6; }
html:has(#projects:target)   .greedy-nav a[href="/about/#projects"] { pointer-events: none; opacity: .6; }
html:has(#writing:target)    .greedy-nav a[href="/about/#writing"] { pointer-events: none; opacity: .6; }
html:has(#contact:target)    .greedy-nav a[href="/about/#contact"] { pointer-events: none; opacity: .6; }

/* ===== Minimal Mistakes ToC polish ===== */
.toc {
  border-radius: 10px;
  padding: 0.75rem 0.75rem 0.75rem;
  box-shadow: 0 1px 6px $color-black;
  background-color: $color-bg;
  margin-bottom: 1.5rem;
}

.toc .toc__menu {
  font-size: 0.95rem;
  line-height: 1.4;
}

.toc .toc__menu a {
  font-weight: normal;
  text-decoration: none;
}

.toc .toc__menu a:hover {
  color: $color-text;
  text-decoration: none;
}

.toc .nav__title { display: none; }

.toc .toc__menu {
  display: flex;
  flex-wrap: wrap;
  gap: .25rem .5rem;
  list-style: none;
  margin: 0 !important;
  padding: 0 !important;
}

.toc .toc__menu > li { margin: 0; padding: 0; }

/* ToC links: animated outline like top nav */
.toc .toc__menu > li > a {
  position: relative;
  display: inline-block;        /* keep pills inline in your flex row */
  padding: .4rem .5rem;         /* breathing room for the outline */
  border-radius: 6px;           /* match your nav corners */
  text-decoration: none;
  border: 0;
}

.toc .toc__menu > li > a::after {
  content: "";
  position: absolute;
  inset: 0;
  border: 2px solid $color-accent-alt;
  border-width: 1.75px;
  border-radius: 6px;
  border-color: rgba($color-accent-alt, .55);
  opacity: 0;
  transform: scale(0.9);
  transition: opacity .2s ease, transform .2s ease;
  pointer-events: none;
}

.toc .toc__menu > li > a:hover,
.toc .toc__menu > li > a:focus-visible {
  color: rgba($color-text, .75);
}

.toc .toc__menu > li > a:hover::after,
.toc .toc__menu > li > a:focus-visible::after {
  opacity: 1;
  transform: scale(1);
  border-color: rgba($color-accent-alt, .80);
}

/* respectful of users who prefer less motion */
@media (prefers-reduced-motion: reduce) {
  .toc .toc__menu > li > a::after { transition: none; transform: none; }
}

.link-chips{ display:flex; gap:.6rem; flex-wrap:wrap; align-items:center; }

.link-chips a{
  @include link-no-underline;
  display:inline-flex; align-items:center; gap:.45rem;
  padding:.35rem .6rem; border-radius:10px;
  border:1px solid $color-border; color:$color-text;
  @include hover-outline(1.5px, rgba($color-accent-alt,.55), 10px);
}

.link-chips a:hover{ color:$color-text; }     // keep text steady; outline does the work
.link-chips i{ font-size:1rem; line-height:0; } // tidy icon size


/* DEBUG: visualize the real ToC without changing layout */
// .sidebar__right nav.toc .toc__menu > li { outline: 2px solid magenta !important; }
// .sidebar__right nav.toc .toc__menu > li { outline: 1px dashed cyan !important; }


/* Center the article; collapse the sidebar into a full-width row */
@media (min-width: 64em) { /* match MM’s large breakpoint */
  .center-page .page__content {
    float: none;               /* cancel theme float */
    width: 100%;               /* cancel calc() width */
    max-width: 1100px;         /* pick your content width */
    margin-inline: auto;       /* center */
  }

  .center-page .sidebar__right,
  .center-page .sidebar__right.sticky {
    float: none;               /* stop reserving a right column */
    position: static;          /* cancel sticky positioning */
    width: 100%;
    max-width: 1100px;
    margin: 0 auto 1rem;       /* place ToC row above content */
  }
}

/* Hide the “Follow” button on small viewports */
@media (max-width: 700px) {
  /* common cases */
  .btn--follow,
  a[aria-label="Follow"],
  button[aria-label="Follow"] {
    display: none;
  }

  /* if it sits in the masthead nav */
  .masthead .masthead__menu-item--follow,
  .masthead .nav__list .masthead__menu-item > a[aria-label="Follow"] {
    display: none;
  }
}